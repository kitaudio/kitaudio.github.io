<!DOCTYPE html>
<html>
  <head>
    <script src='../../scripts/synth/Envelope.js'></script>
    <script src='../../scripts/synth/ChannelStrip.js'></script>
    <script src='../../scripts/synth/Overtone.js'></script>
    <script src='../../scripts/synth/AdditiveSynthVoice.js'></script>

    <script>
      window.onload = () => {
        var audioCtx = new AudioContext();

        var asv = new AdditiveSynthVoice({ audioCtx: audioCtx });
        asv.setOvertoneAmplitudesByFormula((n) => {
          if (n % 2 === 0) return 0;
          return (1 / n);
        });
        asv.connect(audioCtx.destination);
        var playing = false;

        document.onclick = () => {
          if (playing === false) {
            asv.attack();
          } else {
            asv.release();
          }
          playing = !playing;
        }
      }
    </script>
  </head>
  <body>
  </body>
</html>
